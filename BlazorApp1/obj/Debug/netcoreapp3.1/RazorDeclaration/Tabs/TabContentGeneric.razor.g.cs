// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace BlazorApp1.Tabs
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using BlazorApp1;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using BlazorApp1.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using BlazorApp1.Tabs;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using Syncfusion.Blazor.Grids;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using Syncfusion.Blazor.Inputs;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using Syncfusion.Blazor.Buttons;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using Syncfusion.Blazor.Charts;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using Syncfusion.Blazor.Cards;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "D:\UTIL\blazor\BlazorApp1\_Imports.razor"
using Syncfusion.Blazor.Popups;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "D:\UTIL\blazor\BlazorApp1\Tabs\TabContentGeneric.razor"
using System.Dynamic;

#line default
#line hidden
#nullable disable
    public partial class TabContentGeneric : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 92 "D:\UTIL\blazor\BlazorApp1\Tabs\TabContentGeneric.razor"
       

    [Parameter]
    public string title { get; set; } = "";

    [Parameter]
    public List<ExpandoObject> SourceDataGrid { get; set; } = new List<ExpandoObject>();

    [Parameter]
    public string codigo { get; set; }

    [Parameter]
    public string nombre { get; set; }

    public SfGrid<System.Dynamic.ExpandoObject> DefaultGrid;

    public void CellInfoHandler(QueryCellInfoEventArgs<ExpandoObject> Args)
    {
        var FilterCols = DefaultGrid.FilterSettings?.Columns; // will provide filtered column details.
        if (FilterCols?.Count > 0) // when column is filtered
        {
            Console.WriteLine("filtrado");

            //for (var i = 0; i < FilterCols.Count; i++) // loop the for multiple filtered column
            //{
            //    if (Args.Column.Field == FilterCols[i].Field) // check with current column
            //    {
            //        Args.Cell.AddClass(new string[] { "filtered" }); // add specific class name to content
            //    }
            //}
        }
    }

    public double Cantidad { get; set; } = 0;
    public double Subtotal { get; set; } = 0;
    public double ValDes { get; set; } = 0;
    public double ValIva { get; set; } = 0;
    public double Total { get; set; } = 0;




    protected override void OnParametersSet()
    {
        try
        {

            if (SourceDataGrid != null)
            {
                Cantidad = SourceDataGrid.Sum(item => (double)((IDictionary<string, object>)item)["neto"]);
                Subtotal = SourceDataGrid.Sum(item => (double)((IDictionary<string, object>)item)["subtotal"]);
                ValIva = SourceDataGrid.Sum(item => (double)((IDictionary<string, object>)item)["val_iva"]);
                ValDes = SourceDataGrid.Sum(item => (double)((IDictionary<string, object>)item)["val_des"]);
                Total = SourceDataGrid.Sum(item => (double)((IDictionary<string, object>)item)["total"]);
            }
        }
        catch (Exception w)
        {
            Console.WriteLine("error al fijar un parametro:" + w);
        }
    }


    public async Task ExcelExport()
    {

        ExcelExportProperties ExcelProperties = new ExcelExportProperties();
        ExcelTheme Theme = new ExcelTheme();

        ExcelStyle ThemeStyle = new ExcelStyle()
        {
            FontName = "Segoe UI",
            FontColor = "#666666",
            FontSize = 12
        };

        Theme.Header = ThemeStyle;
        Theme.Record = ThemeStyle;
        Theme.Caption = ThemeStyle;
        ExcelProperties.Theme = Theme;
        await DefaultGrid.ExcelExport(ExcelProperties);
    }





#line default
#line hidden
#nullable disable
    }
}
#pragma warning restore 1591
